const translations = {
  en: {
    title: "Recipe Collection",
    breakfast: "Breakfast",
    drinks: "Drinks",
    ingredients: "Ingredients",
    instructions: "Instructions",
    quote: "Sometimes a warm drink is all you need to feel at home.",
    recipes: {
      pancakes: "Lemon Pancakes",
      avocado: "Avocado Toast",
      chia: "Rose Chia Pudding",
      cider: "Spiced Apple Cider",
      mocha: "Chocolate Mocha",
      lavender: "Lavender Milk"
    },
    details: {
      pancakes: {
        ingredients: [
          "1 cup ricotta cheese", "2 eggs", "1/2 cup milk", "1/2 cup flour",
          "1 tbsp sugar", "Juice and zest of 1 lemon", "Pinch of salt", "Butter"
        ],
        instructions: [
          "Mix ricotta, eggs, milk, lemon zest and juice.",
          "Add flour, sugar, and salt. Stir until smooth.",
          "Fry small pancakes until golden.",
          "Serve with honey or fruit."
        ]
      },
      avocado: {
        ingredients: [
          "2 slices sourdough bread", "1 ripe avocado", "2 eggs",
          "Salt, pepper, chili flakes", "Lemon juice"
        ],
        instructions: [
          "Toast bread.",
          "Mash avocado with lemon, salt, pepper.",
          "Poach eggs.",
          "Assemble toast and serve."
        ]
      },
      chia: {
        ingredients: [
          "1/4 cup chia seeds", "1 cup almond milk", "1 tsp rose water",
          "1 tbsp honey", "Pistachios and rose petals"
        ],
        instructions: [
          "Mix all ingredients and refrigerate overnight.",
          "Stir well before serving.",
          "Top with pistachios and rose petals."
        ]
      },
      cider: {
        ingredients: [
          "2 cups apple juice", "1 cinnamon stick", "3 cloves",
          "1 slice orange", "Honey (optional)"
        ],
        instructions: [
          "Simmer all ingredients for 10 minutes.",
          "Strain and serve warm."
        ]
      },
      mocha: {
        ingredients: [
          "1 espresso shot", "1/2 cup milk", "2 tbsp dark chocolate",
          "Whipped cream"
        ],
        instructions: [
          "Melt chocolate in warm milk.",
          "Add espresso. Top with whipped cream."
        ]
      },
      lavender: {
        ingredients: [
          "1 cup milk", "1 tbsp honey", "1/2 tsp dried lavender"
        ],
        instructions: [
          "Heat milk with lavender and honey.",
          "Strain and serve warm."
        ]
      }
    }
  },
  de: {
    title: "Rezeptesammlung",
    breakfast: "Frühstück",
    drinks: "Getränke",
    ingredients: "Zutaten",
    instructions: "Anleitung",
    quote: "Manchmal reicht ein warmes Getränk, um sich wie zu Hause zu fühlen.",
    recipes: {
      pancakes: "Zitronenpfannkuchen",
      avocado: "Avocado-Toast",
      chia: "Rosen-Chia-Pudding",
      cider: "Gewürzter Apfelpunsch",
      mocha: "Schokoladen-Mocha",
      lavender: "Lavendelmilch"
    },
    details: {
      pancakes: {
        ingredients: [
          "250 g Ricotta", "2 Eier", "120 ml Milch", "60 g Mehl",
          "1 EL Zucker", "Saft und Schale von 1 Zitrone", "Prise Salz", "Butter"
        ],
        instructions: [
          "Ricotta, Eier, Milch, Zitronensaft und -schale verrühren.",
          "Mehl, Zucker und Salz hinzufügen. Glatt rühren.",
          "Kleine Pfannkuchen goldbraun braten.",
          "Mit Honig oder Obst servieren."
        ]
      },
      avocado: {
        ingredients: [
          "2 Scheiben Sauerteigbrot", "1 reife Avocado", "2 Eier",
          "Salz, Pfeffer, Chiliflocken", "Zitronensaft"
        ],
        instructions: [
          "Brot toasten.",
          "Avocado mit Zitronensaft, Salz und Pfeffer zerdrücken.",
          "Eier pochieren.",
          "Avocado auf Brot streichen und mit Ei toppen."
        ]
      },
      chia: {
        ingredients: [
          "60 g Chiasamen", "240 ml Mandelmilch", "1 TL Rosenwasser",
          "1 EL Honig", "Gehackte Pistazien und Rosenblätter"
        ],
        instructions: [
          "Alle Zutaten mischen und über Nacht kühlen.",
          "Vor dem Servieren gut umrühren.",
          "Mit Pistazien und Rosenblättern garnieren."
        ]
      },
      cider: {
        ingredients: [
          "500 ml Apfelsaft", "1 Zimtstange", "3 Nelken",
          "1 Orangenscheibe", "Honig (optional)"
        ],
        instructions: [
          "Alle Zutaten 10 Minuten köcheln lassen.",
          "Abseihen und warm servieren."
        ]
      },
      mocha: {
        ingredients: [
          "1 Espresso", "120 ml Milch", "2 EL dunkle Schokolade",
          "Schlagsahne"
        ],
        instructions: [
          "Schokolade in warmer Milch schmelzen.",
          "Espresso hinzufügen. Mit Schlagsahne servieren."
        ]
      },
      lavender: {
        ingredients: [
          "240 ml Milch", "1 EL Honig", "1/2 TL getrockneter Lavendel"
        ],
        instructions: [
          "Milch mit Lavendel und Honig erhitzen.",
          "Abseihen und warm servieren."
        ]
      }
    }
  },
  ar: {
    title: "مجموعة الوصفات",
    breakfast: "الإفطار",
    drinks: "المشروبات",
    ingredients: "المكونات",
    instructions: "طريقة التحضير",
    quote: "أحيانًا يكفي مشروب دافئ لتشعر بأنك في منزلك.",
    recipes: {
      pancakes: "فطائر الليمون",
      avocado: "توست الأفوكادو",
      chia: "بودينغ الشيا بالورد",
      cider: "عصير التفاح المتبل",
      mocha: "موكا الشوكولاتة",
      lavender: "حليب اللافندر"
    },
    details: {
      pancakes: {
        ingredients: [
          "كوب جبن ريكوتا", "2 بيض", "نصف كوب حليب", "نصف كوب دقيق",
          "ملعقة كبيرة سكر", "عصير وبرش ليمونة", "رشة ملح", "زبدة"
        ],
        instructions: [
          "اخلطي الريكوتا مع البيض والحليب والليمون.",
          "أضيفي الدقيق والسكر والملح وامزجي جيداً.",
          "اقلي الفطائر حتى تصبح ذهبية.",
          "قدّميها مع العسل أو الفواكه."
        ]
      },
      avocado: {
        ingredients: [
          "شريحتان خبز ساوردو", "1 أفوكادو ناضج", "2 بيض",
          "ملح، فلفل، رقائق فلفل حار", "عصير ليمون"
        ],
        instructions: [
          "حمصي الخبز.",
          "اهرسي الأفوكادو مع الليمون والملح والفلفل.",
          "اسلقي البيض.",
          "ضعي المهروس على الخبز وأضيفي البيض فوقه."
        ]
      },
      chia: {
        ingredients: [
          "ربع كوب بذور شيا", "كوب حليب لوز", "ملعقة صغيرة ماء ورد",
          "ملعقة عسل", "فستق مطحون وبتلات الورد"
        ],
        instructions: [
          "اخلطي المكونات واتركيها في الثلاجة طوال الليل.",
          "حرّكي جيدًا قبل التقديم.",
          "زيّني بالفستق والورد."
        ]
      },
      cider: {
        ingredients: [
          "كوبان عصير تفاح", "عصا قرفة", "3 حبات قرنفل",
          "شريحة برتقال", "عسل (اختياري)"
        ],
        instructions: [
          "اغلي جميع المكونات لمدة 10 دقائق.",
          "صفّي وقدّميه دافئاً."
        ]
      },
      mocha: {
        ingredients: [
          "شوت إسبرسو", "نصف كوب حليب", "ملعقتان شوكولاتة داكنة",
          "كريمة مخفوقة"
        ],
        instructions: [
          "ذوبي الشوكولاتة في الحليب الدافئ.",
          "أضيفي الإسبريسو وقدّميه مع الكريمة."
        ]
      },
      lavender: {
        ingredients: [
          "كوب حليب", "ملعقة عسل", "نصف ملعقة صغيرة خزامى مجففة"
        ],
        instructions: [
          "سخّني الحليب مع الخزامى والعسل.",
          "صفّيه وقدّميه دافئاً."
        ]
      }
    }
  }
};

let currentLang = localStorage.getItem("lang") || "en";
let currentCollection = "breakfast";
let currentRecipe = "pancakes";

function setLanguage(lang) {
  currentLang = lang;
  localStorage.setItem("lang", lang);
  document.getElementById("collection-title").innerText = translations[lang].title;
  document.querySelectorAll(".section-btn")[0].innerText = translations[lang].breakfast;
  document.querySelectorAll(".section-btn")[1].innerText = translations[lang].drinks;
  switchCollection(currentCollection);
}

const recipes = {
  breakfast: ["pancakes", "avocado", "chia"],
  drinks: ["cider", "mocha", "lavender"]
};

function switchCollection(name) {
  currentCollection = name;
  document.body.className = name === "drinks" ? "dark" : "";
  const buttons = document.getElementById("recipe-buttons");
  buttons.innerHTML = "";
  recipes[name].forEach((key, index) => {
    const btn = document.createElement("button");
    btn.innerText = translations[currentLang].recipes[key];
    btn.onclick = () => {
      showRecipe(key);
      highlightButton(index);
    };
    buttons.appendChild(btn);
  });
  showRecipe(recipes[name][0]);
  highlightButton(0);
  document.getElementById("quote").innerText = translations[currentLang].quote || "";
}

function highlightButton(index) {
  const buttons = document.querySelectorAll("#recipe-buttons button");
  buttons.forEach(b => b.classList.remove("active"));
  if (buttons[index]) buttons[index].classList.add("active");
}

function showRecipe(key) {
  currentRecipe = key;
  const lang = currentLang;
  const title = translations[lang].recipes[key];
  const ingredients = translations[lang].details[key]?.ingredients || ["..."];
  const instructions = translations[lang].details[key]?.instructions || ["..."];

  document.getElementById("recipe-container").innerHTML = `
    <div class="recipe-card">
      <img src="${key}.jpg" alt="${title}">
      <h2>${title}</h2>
      <h3>${translations[lang].ingredients}</h3>
      <ul>${ingredients.map(i => `<li>${i}</li>`).join("")}</ul>
      <h3>${translations[lang].instructions}</h3>
      <ul>${instructions.map(i => `<li>${i}</li>`).join("")}</ul>
    </div>
  `;
}

window.onload = () => {
  setLanguage(currentLang);
};
